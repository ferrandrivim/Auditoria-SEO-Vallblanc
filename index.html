<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Auditoría SEO VallBlanc</title>
    
    <!-- Tailwind CSS (Estilos) -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Configuración de Colores Corporativos -->
    <script>
        tailwind.config = {
            darkMode: 'class',
            theme: {
                extend: {
                    colors: {
                        brand: {
                            DEFAULT: '#D07D7D', 
                            50: '#fbf5f5',
                            100: '#f7ecec',
                            500: '#D07D7D',
                            600: '#b56b6b',
                            900: '#4a1a1a',
                        },
                        dark: {
                            bg: '#0f172a', // Slate 900
                            panel: '#1e293b', // Slate 800
                            border: '#334155' // Slate 700
                        }
                    },
                    fontFamily: {
                        sans: ['Inter', 'system-ui', 'sans-serif'],
                        serif: ['Georgia', 'serif'],
                    }
                }
            }
        }
    </script>

    <!-- React y ReactDOM (Librerías del Núcleo) -->
    <script crossorigin src="https://unpkg.com/react@17/umd/react.development.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@17/umd/react-dom.development.js"></script>
    
    <!-- Babel (Para traducir el código a algo que el navegador entienda) -->
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>

    <!-- Estilos CSS Base -->
    <style>
        body { background-color: #0f172a; color: #cbd5e1; font-family: 'Inter', sans-serif; }
        .text-pretty { white-space: pre-line; }
        /* Scrollbar */
        ::-webkit-scrollbar { width: 8px; }
        ::-webkit-scrollbar-track { background: #0f172a; }
        ::-webkit-scrollbar-thumb { background: #475569; border-radius: 4px; }
        ::-webkit-scrollbar-thumb:hover { background: #D07D7D; }
    </style>
</head>
<body>
    
    <!-- Punto de Montaje de la App -->
    <div id="root" class="flex h-screen w-full items-center justify-center text-slate-400">
        <div class="text-center">
            <div class="w-12 h-12 border-4 border-brand border-t-transparent rounded-full animate-spin mx-auto mb-4"></div>
            <p>Cargando Informe Integral VallBlanc...</p>
        </div>
    </div>

    <!-- CÓDIGO DE LA APLICACIÓN -->
    <script type="text/babel">

        // --- 1. BASE DE DATOS (CONTENIDO DEL PDF COMPLETO) ---
        const DATA = {
            resumen: {
                titulo: "1. Resumen Ejecutivo (Estado Crítico)",
                contenido: [
                    "El análisis forense de la presencia digital de vallblanc.com revela una patología estructural severa común en clínicas locales con aspiraciones de crecimiento pero ejecución técnica deficiente: una hiperdependencia del tráfico de marca y de pago combinada con una infraestructura técnica que sabotea activamente la adquisición de nuevos pacientes orgánicos 'fríos' (no referidos).",
                    "La clínica opera digitalmente muy por debajo de su capacidad clínica real. Mientras la infraestructura física cuenta con tecnología de vanguardia (CBCT, escáneres intraorales), la infraestructura digital padece de obsolescencia técnica en su Core Web Vitals y un desorden arquitectónico en su estrategia de internacionalización.",
                    "HEMORRAGIA DE TRÁFICO CRÍTICA: De aproximadamente 17,000 usuarios activos registrados en el periodo analizado, la tasa de rebote en la página de inicio alcanza un crítico 59.7%. Esto indica estadísticamente que 6 de cada 10 visitantes, muchos de ellos adquiridos a través de campañas de pago costosas (Google CPC y Social Ads), son repelidos por la experiencia de carga.",
                    "CONVERSIÓN ANÉMICA: La tasa de conversión global registrada es del 0.57% (evento conversion_gracias_cita). Para una clínica dental en BCN, el estándar debería oscilar entre el 3% y el 5%. Actualmente, el sitio requiere casi 200 visitas para generar una sola conversión digital traqueada.",
                    "INVISIBILIDAD EXPAT: La gestión de idiomas mediante parámetros (?lang=) en lugar de subdirectorios consolidados (/en/, /fr/) ha provocado que Google indexe 'clones' de la página de inicio, generando canibalización interna masiva en lugar de relevancia geolocalizada."
                ],
                kpis: [
                    { label: "Tasa Rebote Home", val: "59.7%", status: "critical", sub: "Pérdida Inversión Ads" },
                    { label: "Tasa Conversión", val: "0.57%", status: "critical", sub: "Objetivo: 3.0%" },
                    { label: "Tráfico Orgánico", val: "12.7%", status: "warning", sub: "Dependencia de Pago" },
                    { label: "Velocidad Servidor", val: "1.7s", status: "warning", sub: "TTFB Lento (Google)" }
                ],
                quickWins: [
                    { title: "Desbloqueo Rastreo", desc: "Habilitar sitemap_index.xml (bloqueado) para indexación profunda." },
                    { title: "Compresión Scripts", desc: "Carga diferida (defer) para GTM/Litespeed (TTFB 1.7s)." },
                    { title: "Títulos SEO", desc: "Reescribir Titles de páginas con muchas impresiones y CTR < 2%." }
                ]
            },
            competencia: {
                titulo: "2. Auditoría de Competencia (Benchmarking)",
                intro: "Ingeniería inversa de la élite: Turó Park (Líder Expat), Clínica Blasi (Prestigio) y British Dental (Nicho).",
                tabla: [
                    { dim: "Arquitectura Idiomas", us: "Parámetros (?lang=) / Sin Hreflang", them: "Subdirectorios robustos / Perfiles con banderas (Turó Park)." },
                    { dim: "Enfoque Local", us: "'Vallcarca', 'Gràcia' (Barrio)", them: "'Barcelona', 'English speaking', 'Sarrià' (Ciudad)." },
                    { dim: "Contenido", us: "Blog genérico, traducciones auto.", them: "Guías Seguros, 'Medical Tourism', Casos Clínicos (Blasi)." },
                    { dim: "Velocidad Mobile", us: "LCP 2.2s / Script Bloat (80% peso)", them: "Optimizado móviles / Botones rápidos." },
                    { dim: "Captación", us: "Formulario genérico (Alto abandono)", them: "WhatsApp directo, Booking Online, Portal Paciente." }
                ],
                gaps: [
                    "Aterrizaje Suave Expat: Faltan páginas de 'Medical Tourism' y seguros internacionales.",
                    "Transparencia Precios: Competencia publica tarifas. VallBlanc no, generando fricción.",
                    "Validación E-E-A-T: Falta destacar 'English Speaking Senior Orthodontist' en perfiles."
                ],
                pack: [
                    "Categorización Agresiva: Usar las 10 categorías (Emergency, Pediatric, etc).",
                    "Reseñas SEO: Respuestas con keywords semánticas ('Root canal', 'Implante').",
                    "Fotos Confianza: Evitar stock. Mostrar tecnología real (CBCT)."
                ]
            },
            tecnica: {
                titulo: "3. Auditoría Técnica (PageSpeed)",
                intro: "La velocidad es rentabilidad. Un TTFB de 1.7s destruye el Crawl Budget y la UX móvil.",
                metricas: [
                    { k: "TTFB (Respuesta Servidor)", v: "1.7s", s: "critical", d: "El servidor tarda 2s en 'pensar'. Hosting o caché deficientes." },
                    { k: "Script Bloat (JS)", v: "80%", s: "critical", d: "Litespeed JS y GTM saturan la carga antes que el contenido." },
                    { k: "LCP Móvil", v: "2.2s", s: "warning", d: "Al límite. Imágenes de alta resolución no optimizadas en el hero." }
                ],
                acciones: [
                    "Activar caché servidor (Redis/Varnish) y CDN (Cloudflare).",
                    "Auditoría GTM urgente. Implementar 'Delay JS Execution'.",
                    "Implementar preload para imagen principal y formatos WebP."
                ]
            },
            organico: {
                titulo: "5. Rendimiento Orgánico (GSC/GA4)",
                intro: "Oportunidades perdidas donde Google nos muestra pero el usuario no hace clic.",
                casos: [
                    { t: "'Periodoncia Barcelona'", d: "2,396 Impresiones / 0 Clics", a: "Falta página específica. El usuario busca especialista, no generalista." },
                    { t: "'Precio Implante Dental'", d: "1,835 Impresiones / 0 Clics", a: "Intención transaccional pura. Falta página de precios visible." },
                    { t: "Canibalización 'Regeneración'", d: "Conflicto URLs (id=11 vs 43)", a: "Contenido duplicado interno. Solución: Power Page + 301." },
                    { t: "Fuga 'Pide Cita'", d: "42.2% Tasa Abandono", a: "Formulario complejo. Solución: Simplificar a Nombre+Telf." }
                ]
            },
            expat: {
                titulo: "6. Estrategia 'Expat Barcelona'",
                intro: "El Océano Azul. Crecimiento vía nichos internacionales.",
                fases: [
                    { f: "1. Infraestructura", d: "Implementar Hreflang real. Eliminar ?lang= y usar /en/, /fr/." },
                    { f: "2. Landing Urgencia", d: "Crear 'Emergency Dentist Barcelona'. El expat con dolor busca inmediatez." },
                    { f: "3. Social Proof", d: "Mostrar reseñas en inglés solo en la versión inglesa." },
                    { f: "4. Nicho Ruso", d: "Potenciar 'Fisioterapia ATM' en ruso (Alto rendimiento detectado)." }
                ]
            },
            roadmap: {
                titulo: "7. Hoja de Ruta (Roadmap)",
                tareas: [
                    { t: "Implementar Hreflang y URLs (/en/)", p: "Crítica", i: "Alto", e: "Alto", r: "Dev" },
                    { t: "Optimizar carga JS y LCP", p: "Crítica", i: "Alto", e: "Medio", r: "Dev" },
                    { t: "Auditoría GTM (Limpieza)", p: "Alta", i: "Medio", e: "Bajo", r: "Analista" },
                    { t: "Landing 'Emergency Dentist'", p: "Alta", i: "Alto", e: "Medio", r: "Content" },
                    { t: "Simplificar Formulario Cita", p: "Alta", i: "Alto", e: "Bajo", r: "UX/Dev" },
                    { t: "Power Page 'Periodoncia'", p: "Media", i: "Medio", e: "Alto", r: "Content" }
                ]
            },
            extra: {
                titulo: "Extra: Arquitectura Silos",
                silos: [
                    "/es/ (Home Local)",
                    "  ├── /es/tratamientos/implantes-dentales/",
                    "  ├── /es/urgencias-dentales/ (Landing)",
                    "  └── /es/barrio/vallcarca/",
                    "/en/ (Home Expat)",
                    "  ├── /en/emergency-dentist/ (High ROI)",
                    "  └── /en/international-patients/"
                ]
            }
        };

        // --- 2. COMPONENTES VISUALES SIMPLES ---

        const Icono = ({ tipo }) => {
            const clases = "w-5 h-5 inline-block mr-2";
            switch(tipo) {
                case 'alerta': return <svg className={clases} fill="none" viewBox="0 0 24 24" stroke="currentColor"><path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z" /></svg>;
                case 'check': return <svg className={clases} fill="none" viewBox="0 0 24 24" stroke="currentColor"><path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M5 13l4 4L19 7" /></svg>;
                case 'grafico': return <svg className={clases} fill="none" viewBox="0 0 24 24" stroke="currentColor"><path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M7 12l3-3 3 3 4-4M8 21l4-4 4 4M3 4h18M4 4h16v12a1 1 0 01-1 1H5a1 1 0 01-1-1V4z" /></svg>;
                case 'mapa': return <svg className={clases} fill="none" viewBox="0 0 24 24" stroke="currentColor"><path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z" /><path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M15 11a3 3 0 11-6 0 3 3 0 016 0z" /></svg>;
                default: return <span className={clases}>•</span>;
            }
        };

        const TarjetaKPI = ({ etiqueta, valor, estado, sub }) => (
            <div className={`p-4 rounded-lg border ${estado === 'critical' ? 'bg-red-900/20 border-red-500/30 text-red-100' : 'bg-yellow-900/20 border-yellow-500/30 text-yellow-100'}`}>
                <div className="text-xs uppercase opacity-70 mb-1">{etiqueta}</div>
                <div className="text-2xl font-bold mb-1">{valor}</div>
                <div className="text-xs font-mono">{sub}</div>
            </div>
        );

        // --- 3. APLICACIÓN PRINCIPAL ---

        const App = () => {
            const [seccion, setSeccion] = React.useState('resumen');

            // Navegación lateral
            const Menu = () => (
                <nav className="space-y-1">
                    {[
                        ['resumen', '1. Resumen Ejecutivo'],
                        ['competencia', '2. Competencia'],
                        ['tecnica', '3. Auditoría Técnica'],
                        ['organico', '5. Rendimiento Orgánico'],
                        ['expat', '6. Estrategia Expat'],
                        ['roadmap', '7. Hoja de Ruta'],
                        ['extra', 'Extra: Arquitectura']
                    ].map(([key, label]) => (
                        <button 
                            key={key}
                            onClick={() => setSeccion(key)}
                            className={`w-full text-left px-4 py-3 rounded text-sm transition-colors ${seccion === key ? 'bg-brand text-white font-bold' : 'text-slate-400 hover:bg-dark-panel hover:text-slate-200'}`}
                        >
                            {label}
                        </button>
                    ))}
                </nav>
            );

            // Renderizado condicional de contenido
            const Contenido = () => {
                const data = DATA[seccion];
                if (!data) return <div>Cargando...</div>;

                return (
                    <div className="animate-fade-in">
                        <h2 className="text-3xl font-bold text-white mb-2 pb-4 border-b border-dark-border">
                            {data.titulo}
                        </h2>
                        
                        {/* 1. RESUMEN */}
                        {seccion === 'resumen' && (
                            <div className="space-y-6">
                                <div className="prose prose-invert max-w-none text-slate-300">
                                    {data.contenido.map((p, i) => <p key={i} className="mb-4 leading-relaxed">{p}</p>)}
                                </div>
                                <div className="grid grid-cols-2 md:grid-cols-4 gap-4">
                                    {data.kpis.map((k, i) => <TarjetaKPI key={i} etiqueta={k.label} valor={k.val} estado={k.status} sub={k.sub} />)}
                                </div>
                                <div className="bg-dark-panel p-6 rounded-xl border border-dark-border">
                                    <h3 className="text-xl font-bold text-brand mb-4">Quick Wins (≤ 14 días)</h3>
                                    <div className="grid md:grid-cols-3 gap-4">
                                        {data.quickWins.map((w, i) => (
                                            <div key={i} className="bg-dark-bg p-4 rounded border border-dark-border">
                                                <div className="font-bold text-white mb-2">{w.title}</div>
                                                <div className="text-sm text-slate-400">{w.desc}</div>
                                            </div>
                                        ))}
                                    </div>
                                </div>
                            </div>
                        )}

                        {/* 2. COMPETENCIA */}
                        {seccion === 'competencia' && (
                            <div className="space-y-6">
                                <p className="text-slate-400">{data.intro}</p>
                                <div className="overflow-x-auto">
                                    <table className="w-full text-left text-sm text-slate-300">
                                        <thead className="bg-dark-panel text-brand uppercase font-bold">
                                            <tr>
                                                <th className="p-3">Dimensión</th>
                                                <th className="p-3 text-red-300">VallBlanc (Nosotros)</th>
                                                <th className="p-3 text-green-300">Competencia Top</th>
                                            </tr>
                                        </thead>
                                        <tbody className="divide-y divide-dark-border">
                                            {data.tabla.map((row, i) => (
                                                <tr key={i} className="hover:bg-dark-panel/50">
                                                    <td className="p-3 font-bold">{row.dim}</td>
                                                    <td className="p-3 border-l border-red-900/30 bg-red-900/10">{row.us}</td>
                                                    <td className="p-3 border-l border-green-900/30 bg-green-900/10">{row.them}</td>
                                                </tr>
                                            ))}
                                        </tbody>
                                    </table>
                                </div>
                                <div className="grid md:grid-cols-2 gap-6">
                                    <div className="bg-dark-panel p-4 rounded border border-dark-border">
                                        <h4 className="font-bold text-white mb-2">Gaps Detectados</h4>
                                        <ul className="list-disc pl-4 space-y-2 text-sm text-slate-400">
                                            {data.gaps.map((g, i) => <li key={i}>{g}</li>)}
                                        </ul>
                                    </div>
                                    <div className="bg-dark-panel p-4 rounded border border-dark-border">
                                        <h4 className="font-bold text-white mb-2">Estrategias Local Pack</h4>
                                        <ul className="list-disc pl-4 space-y-2 text-sm text-slate-400">
                                            {data.pack.map((p, i) => <li key={i}>{p}</li>)}
                                        </ul>
                                    </div>
                                </div>
                            </div>
                        )}

                        {/* 3. TÉCNICA */}
                        {seccion === 'tecnica' && (
                            <div className="space-y-6">
                                <p className="text-slate-400">{data.intro}</p>
                                <div className="grid gap-4">
                                    {data.metricas.map((m, i) => (
                                        <div key={i} className="bg-dark-panel p-4 rounded border border-dark-border flex flex-col md:flex-row justify-between items-start md:items-center">
                                            <div>
                                                <div className="font-bold text-white text-lg">{m.k}</div>
                                                <div className="text-sm text-slate-400">{m.d}</div>
                                            </div>
                                            <div className={`mt-2 md:mt-0 px-3 py-1 rounded font-mono font-bold ${m.s === 'critical' ? 'bg-red-900/30 text-red-400' : 'bg-yellow-900/30 text-yellow-400'}`}>
                                                {m.v}
                                            </div>
                                        </div>
                                    ))}
                                </div>
                                <div className="bg-brand/10 p-6 rounded border border-brand/20">
                                    <h4 className="font-bold text-brand mb-2">Acciones Correctoras</h4>
                                    <ul className="list-decimal pl-4 space-y-2 text-slate-300">
                                        {data.acciones.map((a, i) => <li key={i}>{a}</li>)}
                                    </ul>
                                </div>
                            </div>
                        )}

                        {/* 5. ORGÁNICO */}
                        {seccion === 'organico' && (
                            <div className="space-y-6">
                                <p className="text-slate-400">{data.intro}</p>
                                <div className="grid gap-4">
                                    {data.casos.map((c, i) => (
                                        <div key={i} className="bg-dark-panel p-6 rounded border border-dark-border">
                                            <div className="flex justify-between mb-2">
                                                <h4 className="text-xl font-bold text-white">{c.t}</h4>
                                                <span className="text-xs bg-dark-bg px-2 py-1 rounded text-red-400 font-mono">{c.d}</span>
                                            </div>
                                            <div className="text-sm text-brand font-bold uppercase mb-1">Diagnóstico & Acción</div>
                                            <p className="text-slate-400 text-sm">{c.a}</p>
                                        </div>
                                    ))}
                                </div>
                            </div>
                        )}

                        {/* 6. EXPAT */}
                        {seccion === 'expat' && (
                            <div className="space-y-6">
                                <p className="text-slate-400">{data.intro}</p>
                                <div className="space-y-4">
                                    {data.fases.map((f, i) => (
                                        <div key={i} className="flex bg-dark-panel p-4 rounded border border-dark-border">
                                            <div className="mr-4 text-brand font-bold text-lg">{i+1}</div>
                                            <div>
                                                <h4 className="font-bold text-white">{f.f}</h4>
                                                <p className="text-sm text-slate-400">{f.d}</p>
                                            </div>
                                        </div>
                                    ))}
                                </div>
                            </div>
                        )}

                        {/* 7. ROADMAP */}
                        {seccion === 'roadmap' && (
                            <div className="space-y-6">
                                <div className="overflow-x-auto">
                                    <table className="w-full text-left text-sm text-slate-300">
                                        <thead className="bg-brand text-white uppercase font-bold">
                                            <tr>
                                                <th className="p-3">Tarea</th>
                                                <th className="p-3">Prioridad</th>
                                                <th className="p-3">Impacto</th>
                                                <th className="p-3">Esfuerzo</th>
                                                <th className="p-3">Lead</th>
                                            </tr>
                                        </thead>
                                        <tbody className="divide-y divide-dark-border bg-dark-panel">
                                            {data.tareas.map((t, i) => (
                                                <tr key={i}>
                                                    <td className="p-3 font-bold text-white">{t.t}</td>
                                                    <td className="p-3"><span className={`px-2 py-0.5 rounded text-xs font-bold ${t.p === 'Crítica' ? 'bg-red-500 text-white' : 'bg-slate-700'}`}>{t.p}</span></td>
                                                    <td className="p-3">{t.i}</td>
                                                    <td className="p-3">{t.e}</td>
                                                    <td className="p-3 text-brand">{t.r}</td>
                                                </tr>
                                            ))}
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                        )}

                        {/* EXTRA: ARQUITECTURA */}
                        {seccion === 'extra' && (
                            <div className="bg-dark-panel p-6 rounded border border-dark-border font-mono text-sm text-slate-300">
                                <ul className="space-y-2">
                                    {data.silos.map((s, i) => <li key={i}>{s}</li>)}
                                </ul>
                            </div>
                        )}
                    </div>
                );
            };

            return (
                <div className="flex h-screen overflow-hidden bg-dark-bg text-slate-200">
                    {/* Sidebar */}
                    <aside className="w-64 bg-dark-panel border-r border-dark-border flex flex-col hidden md:flex">
                        <div className="p-6 border-b border-dark-border">
                            <h1 className="text-xl font-bold text-white tracking-tight">VallBlanc<span className="text-brand">.Audit</span></h1>
                            <p className="text-xs text-slate-500 mt-1 uppercase">Informe Integral 2026</p>
                        </div>
                        <div className="flex-1 overflow-y-auto p-4">
                            <Menu />
                        </div>
                        <div className="p-4 border-t border-dark-border">
                            <div className="flex items-center">
                                <div className="w-8 h-8 rounded-full bg-brand flex items-center justify-center text-white font-bold text-xs mr-3">FM</div>
                                <div>
                                    <div className="text-xs text-slate-500 uppercase">Auditor</div>
                                    <div className="text-sm font-bold text-white">Ferran Martínez</div>
                                </div>
                            </div>
                        </div>
                    </aside>

                    {/* Main Content */}
                    <main className="flex-1 flex flex-col relative overflow-hidden">
                        {/* Mobile Header */}
                        <div className="md:hidden bg-dark-panel p-4 border-b border-dark-border flex justify-between items-center z-10">
                            <span className="font-bold text-white">VallBlanc Audit</span>
                            <select 
                                className="bg-dark-bg text-slate-200 text-sm border border-dark-border rounded p-1"
                                value={seccion}
                                onChange={(e) => setSeccion(e.target.value)}
                            >
                                <option value="resumen">Resumen</option>
                                <option value="competencia">Competencia</option>
                                <option value="tecnica">Técnica</option>
                                <option value="organico">Orgánico</option>
                                <option value="expat">Estrategia Expat</option>
                                <option value="roadmap">Roadmap</option>
                            </select>
                        </div>

                        <div className="flex-1 overflow-y-auto p-6 md:p-12 relative">
                            <div className="max-w-4xl mx-auto pb-20">
                                <Contenido />
                            </div>
                            
                            <footer className="text-center text-xs text-slate-600 py-8 border-t border-dark-border mt-10">
                                <p>© 2026 Auditoría Estratégica Digital - Documento Confidencial</p>
                                <p className="mt-1 text-brand font-bold">Ferran Martínez</p>
                            </footer>
                        </div>
                    </main>
                </div>
            );
        };

        ReactDOM.render(<App />, document.getElementById('root'));
    </script>
</body>
</html>
