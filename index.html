<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Auditoría SEO 360º - VallBlanc</title>
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- React & ReactDOM -->
    <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    
    <!-- Babel -->
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    
    <!-- Lucide Icons -->
    <script src="https://unpkg.com/lucide@latest"></script>

    <!-- Google Fonts: Inter -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">

    <script>
        tailwind.config = {
            darkMode: 'class',
            theme: {
                extend: {
                    colors: {
                        brand: {
                            DEFAULT: '#D07D7D', // VallBlanc Brand Color
                            dim: 'rgba(208, 125, 125, 0.1)',
                            hover: '#b56b6b'
                        },
                        dark: {
                            bg: '#0f172a',
                            card: '#1e293b',
                            border: '#334155'
                        }
                    },
                    fontFamily: {
                        sans: ['Inter', 'sans-serif'],
                    }
                }
            }
        }
    </script>

    <style>
        body { background-color: #0f172a; color: #e2e8f0; }
        .scrollbar-hide::-webkit-scrollbar { display: none; }
        .glass-panel { background: rgba(30, 41, 59, 0.7); backdrop-filter: blur(10px); border: 1px solid rgba(255,255,255,0.05); }
    </style>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect } = React;

        // --- ICONOS (Mapping simple para React) ---
        const Icon = ({ name, size = 20, className = "" }) => {
            const icons = {
                BarChart2: <svg xmlns="http://www.w3.org/2000/svg" width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><line x1="18" y1="20" x2="18" y2="10"></line><line x1="12" y1="20" x2="12" y2="4"></line><line x1="6" y1="20" x2="6" y2="14"></line></svg>,
                AlertTriangle: <svg xmlns="http://www.w3.org/2000/svg" width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><path d="M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z"></path><line x1="12" y1="9" x2="12" y2="13"></line><line x1="12" y1="17" x2="12.01" y2="17"></line></svg>,
                Activity: <svg xmlns="http://www.w3.org/2000/svg" width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><polyline points="22 12 18 12 15 21 9 3 6 12 2 12"></polyline></svg>,
                Globe: <svg xmlns="http://www.w3.org/2000/svg" width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><circle cx="12" cy="12" r="10"></circle><line x1="2" y1="12" x2="22" y2="12"></line><path d="M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z"></path></svg>,
                MapPin: <svg xmlns="http://www.w3.org/2000/svg" width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><path d="M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"></path><circle cx="12" cy="10" r="3"></circle></svg>,
                Layers: <svg xmlns="http://www.w3.org/2000/svg" width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><polygon points="12 2 2 7 12 12 22 7 12 2"></polygon><polyline points="2 17 12 22 22 17"></polyline><polyline points="2 12 12 17 22 12"></polyline></svg>,
                List: <svg xmlns="http://www.w3.org/2000/svg" width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><line x1="8" y1="6" x2="21" y2="6"></line><line x1="8" y1="12" x2="21" y2="12"></line><line x1="8" y1="18" x2="21" y2="18"></line><line x1="3" y1="6" x2="3.01" y2="6"></line><line x1="3" y1="12" x2="3.01" y2="12"></line><line x1="3" y1="18" x2="3.01" y2="18"></line></svg>,
                Zap: <svg xmlns="http://www.w3.org/2000/svg" width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><polygon points="13 2 3 14 12 14 11 22 21 10 12 10 13 2"></polygon></svg>,
                Search: <svg xmlns="http://www.w3.org/2000/svg" width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><circle cx="11" cy="11" r="8"></circle><line x1="21" y1="21" x2="16.65" y2="16.65"></line></svg>,
                Target: <svg xmlns="http://www.w3.org/2000/svg" width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><circle cx="12" cy="12" r="10"></circle><circle cx="12" cy="12" r="6"></circle><circle cx="12" cy="12" r="2"></circle></svg>,
                PenTool: <svg xmlns="http://www.w3.org/2000/svg" width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><path d="M12 19l7-7 3 3-7 7-3-3z"></path><path d="M18 13l-1.5-7.5L2 2l3.5 14.5L13 18l5-5z"></path><path d="M2 2l7.586 7.586"></path><circle cx="11" cy="11" r="2"></circle></svg>,
                CheckCircle: <svg xmlns="http://www.w3.org/2000/svg" width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"></path><polyline points="22 4 12 14.01 9 11.01"></polyline></svg>
            };
            return icons[name] || null;
        };

        // --- COMPONENTES UI ---

        const Card = ({ title, value, sub, alert, icon }) => (
            <div className={`p-6 rounded-xl border ${alert ? 'border-red-500/50 bg-red-900/10' : 'border-dark-border bg-dark-card'} flex flex-col justify-between h-full`}>
                <div className="flex justify-between items-start mb-4">
                    <h3 className="text-slate-400 text-sm font-medium uppercase tracking-wider">{title}</h3>
                    <div className={`p-2 rounded-lg ${alert ? 'text-red-400 bg-red-500/20' : 'text-brand bg-brand-dim'}`}>
                        <Icon name={icon} size={20} />
                    </div>
                </div>
                <div>
                    <div className="text-2xl font-bold text-white mb-1">{value}</div>
                    <div className={`text-xs ${alert ? 'text-red-300' : 'text-slate-400'}`}>{sub}</div>
                </div>
            </div>
        );

        const TableRow = ({ source, finding, impact, severity, rec }) => {
            const severityColors = {
                'Crítico': 'text-red-400 bg-red-900/20 border-red-500/30',
                'Alto': 'text-orange-400 bg-orange-900/20 border-orange-500/30',
                'Medio': 'text-yellow-400 bg-yellow-900/20 border-yellow-500/30',
                'Bajo': 'text-blue-400 bg-blue-900/20 border-blue-500/30'
            };

            return (
                <tr className="border-b border-dark-border hover:bg-slate-800/50 transition-colors">
                    <td className="p-4 text-xs font-mono text-slate-500">{source}</td>
                    <td className="p-4 text-sm text-slate-200 font-medium">{finding}</td>
                    <td className="p-4 text-sm text-slate-400">{impact}</td>
                    <td className="p-4">
                        <span className={`px-2 py-1 rounded-full text-xs font-bold border ${severityColors[severity] || 'text-slate-400'}`}>
                            {severity}
                        </span>
                    </td>
                    <td className="p-4 text-sm text-brand">{rec}</td>
                </tr>
            );
        };

        const SectionHeader = ({ title, subtitle }) => (
            <div className="mb-8 border-l-4 border-brand pl-4">
                <h2 className="text-3xl font-bold text-white mb-2">{title}</h2>
                <p className="text-slate-400">{subtitle}</p>
            </div>
        );

        // --- DATOS DEL INFORME (NO RESUMIDOS - INTEGRAL) ---
        // Extraídos de los PDFs: GA4 Panorámico, Eventos, Pages, GMB Capture
        
        const AUDIT_DATA = {
            executive: {
                kpis: [
                    { title: "Tasa de Rebote (Home)", value: "59.7%", sub: "Crítico: Pérdida masiva de tráfico pagado.", alert: true, icon: "Activity" },
                    { title: "Fuga en Citas", value: "42.2%", sub: "Usuarios abandonan /pide-cita sin convertir.", alert: true, icon: "Target" },
                    { title: "Engagement Time", value: "27s", sub: "Muy bajo. Contenido no retiene al usuario.", alert: true, icon: "BarChart2" },
                    { title: "Tráfico Orgánico", value: "12.7%", sub: "Dependencia excesiva de Paid (13%) y Social (32%).", alert: true, icon: "Search" }
                ],
                summary: [
                    "SITUACIÓN CRÍTICA DE RETENCIÓN: Aunque captamos 17k usuarios (gran parte de Social/Paid), el sitio web actúa como un 'colador'. El 60% rebota en la Home y el 42% abandona el formulario de cita.",
                    "ARQUITECTURA DEFICIENTE: La web actual no segmenta la intención de búsqueda. Mezcla tráfico informativo (artículos de bruxismo) con transaccional sin caminos claros de conversión.",
                    "OPORTUNIDAD EXPAT PERDIDA: No existe estructura /en/ ni /fr/. El tráfico internacional en Barcelona está siendo regalado a competidores como 'Turó Park' o 'English Dentist BCN'.",
                    "DEPENDENCIA DE META/ADS: El tráfico 'Organic Video' (32.6%) y 'Paid Search' (13.4%) sostiene el negocio. Si se corta la inversión publicitaria, el flujo de pacientes cae drásticamente."
                ]
            },
            competitors: [
                {
                    type: "Líder (Nativo)",
                    name: "Clínica Dental Barcelona (Ejemplo)",
                    strengths: ["Autoridad de Dominio alta", "Blog activo con enlazado interno", "Citas online integradas en GMB"],
                    weaknesses: ["Diseño algo anticuado", "Poca personalización en respuestas de reseñas"],
                    gap: "Tienen landings específicas por tratamiento ('Implantes Barcelona', 'Ortodoncia Gracia'). Nosotros solo tenemos genéricas."
                },
                {
                    type: "Nicho Expat (Rival Directo)",
                    name: "Turó Park Dental / English Dentist BCN",
                    strengths: ["Web 100% en Inglés/Francés", "Equipo médico internacional visible", "Keywords: 'Emergency Dentist BCN'"],
                    weaknesses: ["Precios percibidos como muy altos", "Menor presencia en barrio Vallcarca"],
                    gap: "Atacan 'Emergency Dentist' (CPC alto, conversión inmediata). VallBlanc no tiene landing de urgencia en inglés."
                },
                {
                    type: "Vecino (Barrio)",
                    name: "Clínica Vallcarca (Ejemplo)",
                    strengths: ["Proximidad física", "Reseñas de vecinos muy locales"],
                    weaknesses: ["Web no responsive", "Sin estrategia SEO"],
                    gap: "Podemos dominarlos en SEO Local si optimizamos las fichas de GMB y creamos páginas de geo-servicio."
                }
            ],
            technical: [
                { source: "PSI / Analytics", finding: "LCP Móvil > 2.5s (Estimado por Rebote)", impact: "Abandono antes de carga completa", severity: "Alto", rec: "Implementar WebP, Lazy Load y eliminar Slider JS pesado." },
                { source: "GSC", finding: "Canibalización de Keywords", impact: "URLs compiten entre sí (Home vs Servicios)", severity: "Medio", rec: "Definir URL canónica y diferenciar H1s por intención." },
                { source: "GA4 Events", finding: "Evento 'form_submit' bajo ratio", impact: "Ceguera en atribución de leads", severity: "Crítico", rec: "Configurar Thank You Page única para traqueo fiable." },
                { source: "Manual", finding: "Jerarquía H1-H6 Rota", impact: "Google no entiende la prioridad del contenido", severity: "Medio", rec: "Reestructurar headers: H1 único > H2 Servicios > H3 Detalles." },
                { source: "PSI", finding: "CLS (Cumulative Layout Shift) en carga", impact: "Mala UX, elementos se mueven", severity: "Medio", rec: "Fijar dimensiones (width/height) en imágenes y iframes." },
                { source: "Rastreo", finding: "Falta de Datos Estructurados (Schema)", impact: "No aparecemos con Rich Snippets (Estrellas/FAQ)", severity: "Medio", rec: "Implementar Schema 'Dentist', 'LocalBusiness' y 'MedicalWebPage'." }
            ],
            gmb: [
                { source: "GMB Capture", finding: "Título: 'VallBlanc Espai Dental i Fisioteràpia'", impact: "Diluye la keyword principal 'Dentista'", severity: "Medio", rec: "Testear 'VallBlanc - Dentista en Vallcarca' si no viola normas." },
                { source: "GMB", finding: "Reseñas: 93 (4.9 estrellas)", impact: "Buena calidad, volumen mejorable vs líderes (200+)", severity: "Bajo", rec: "Campaña automatizada de solicitud de reseñas post-visita." },
                { source: "Maps", finding: "Falta de Productos/Servicios visuales", impact: "Menor CTR en ficha", severity: "Medio", rec: "Subir catálogo de servicios (Implantes, Ortodoncia) con fotos reales." },
                { source: "NAP", finding: "Consistencia NAP", impact: "Riesgo de confusión si hay directorios antiguos", severity: "Alto", rec: "Auditar directorios (Yelp, Páginas Amarillas) para igualar a 'Av. de Vallcarca, 68'." }
            ],
            organic: [
                { source: "GA4 Landing", finding: "/tratamientos/fisioterapia-mandibular", impact: "Alto tráfico (1.1k sesiones), bajo cierre", severity: "Medio", rec: "Añadir CTA agresivo '¿Dolor ahora? Reserva hoy'." },
                { source: "GA4 Landing", finding: "/promociones (2.1k visitas)", impact: "Tráfico de baja calidad / cazadores de ofertas", severity: "Bajo", rec: "Cualificar el lead. Enfocar en financiación, no en descuento." },
                { source: "GSC", finding: "Oportunidad: 'Bruxismo síntomas'", impact: "Muchas impresiones informacionales", severity: "Medio", rec: "Crear Cluster de Contenidos: Artículo -> Servicio Férula -> Cita." },
                { source: "GSC", finding: "Oportunidad: 'Urgencia dental vallcarca'", impact: "Intención transaccional pura desaprovechada", severity: "Alto", rec: "Crear Landing Page específica /urgencias-dentales-vallcarca/." }
            ],
            expat: [
                { lang: "Inglés (EN)", keyword: "Emergency Dentist Barcelona", vol: "Alto", comp: "Alta", action: "Crear /en/emergency-dentist/ con botón WhatsApp flotante." },
                { lang: "Inglés (EN)", keyword: "Dental Implants Cost Barcelona", vol: "Medio", comp: "Media", action: "Crear página comparativa de precios UK/US vs Barcelona." },
                { lang: "Francés (FR)", keyword: "Dentiste francophone barcelone", vol: "Medio", comp: "Baja", action: "Landing específica para comunidad francesa en Gràcia/Sarrià." },
                { lang: "Global", keyword: "Invisalign Barcelona English", vol: "Medio", comp: "Media", action: "Testimonios en vídeo de pacientes extranjeros." }
            ],
            roadmap: [
                { task: "Arreglar Formulario Citas (Simplificar a Nombre/Telf)", priority: "Inmediata (24h)", impact: "Crítico", effort: "Bajo", owner: "Dev" },
                { task: "Crear Landing 'Emergency Dentist' (EN)", priority: "Alta (1 semana)", impact: "Alto", effort: "Medio", owner: "Content" },
                { task: "Optimización Core Web Vitals (Imágenes/JS)", priority: "Media (2 semanas)", impact: "Medio", effort: "Alto", owner: "Dev" },
                { task: "Campaña de Reseñas GMB (QR en clínica)", priority: "Alta (Recurrente)", impact: "Alto", effort: "Bajo", owner: "Recepción" },
                { task: "Estructura Silo (Implantes / Ortodoncia / Estética)", priority: "Media (1 mes)", impact: "Alto", effort: "Alto", owner: "SEO" }
            ]
        };

        // --- DASHBOARD PRINCIPAL ---

        const Dashboard = () => {
            const [activeTab, setActiveTab] = useState('executive');

            const renderContent = () => {
                switch(activeTab) {
                    case 'executive':
                        return (
                            <div className="space-y-6 animate-in fade-in duration-500">
                                <SectionHeader title="Resumen Ejecutivo" subtitle="Diagnóstico de situación crítica y estado actual del negocio digital." />
                                
                                <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-8">
                                    {AUDIT_DATA.executive.kpis.map((kpi, i) => (
                                        <Card key={i} {...kpi} />
                                    ))}
                                </div>

                                <div className="bg-dark-card border border-dark-border rounded-xl p-8">
                                    <h3 className="text-xl font-bold text-white mb-4 flex items-center">
                                        <Icon name="AlertTriangle" className="text-brand mr-2" /> Hallazgos Principales (Sin Censura)
                                    </h3>
                                    <ul className="space-y-4">
                                        {AUDIT_DATA.executive.summary.map((point, i) => (
                                            <li key={i} className="flex items-start text-slate-300">
                                                <span className="text-brand font-bold mr-3 mt-1">0{i+1}.</span>
                                                <span className="leading-relaxed">{point}</span>
                                            </li>
                                        ))}
                                    </ul>
                                </div>
                            </div>
                        );
                    
                    case 'competitors':
                        return (
                            <div className="space-y-6 animate-in fade-in duration-500">
                                <SectionHeader title="Benchmarking Competencia" subtitle="Análisis de brechas contra Líderes, Vecinos y Nicho Expat." />
                                <div className="grid md:grid-cols-3 gap-6">
                                    {AUDIT_DATA.competitors.map((comp, i) => (
                                        <div key={i} className="bg-dark-card border border-dark-border rounded-xl p-6 hover:border-brand/50 transition-colors">
                                            <div className="text-xs text-brand font-bold uppercase tracking-wider mb-2">{comp.type}</div>
                                            <h3 className="text-xl font-bold text-white mb-4">{comp.name}</h3>
                                            
                                            <div className="mb-4">
                                                <strong className="text-green-400 text-xs uppercase">Fortalezas:</strong>
                                                <ul className="list-disc list-inside text-sm text-slate-400 mt-1">
                                                    {comp.strengths.map((s, j) => <li key={j}>{s}</li>)}
                                                </ul>
                                            </div>
                                            
                                            <div className="mb-4">
                                                <strong className="text-red-400 text-xs uppercase">Debilidades:</strong>
                                                <ul className="list-disc list-inside text-sm text-slate-400 mt-1">
                                                    {comp.weaknesses.map((w, j) => <li key={j}>{w}</li>)}
                                                </ul>
                                            </div>

                                            <div className="p-3 bg-slate-800/50 rounded-lg border-l-2 border-brand">
                                                <p className="text-xs text-slate-300"><strong className="text-white">GAP Detectado:</strong> {comp.gap}</p>
                                            </div>
                                        </div>
                                    ))}
                                </div>
                            </div>
                        );

                    case 'technical':
                        return (
                            <div className="space-y-6 animate-in fade-in duration-500">
                                <SectionHeader title="Auditoría Técnica" subtitle="Análisis forense de PageSpeed, Rastreo e Indexación." />
                                <div className="overflow-x-auto rounded-xl border border-dark-border">
                                    <table className="w-full text-left bg-dark-card">
                                        <thead className="bg-slate-900 text-slate-400 uppercase text-xs font-bold">
                                            <tr>
                                                <th className="p-4">Fuente</th>
                                                <th className="p-4">Hallazgo Técnico</th>
                                                <th className="p-4">Impacto Negocio</th>
                                                <th className="p-4">Severidad</th>
                                                <th className="p-4">Recomendación Exacta</th>
                                            </tr>
                                        </thead>
                                        <tbody className="divide-y divide-dark-border">
                                            {AUDIT_DATA.technical.map((item, i) => (
                                                <TableRow key={i} {...item} />
                                            ))}
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                        );

                    case 'organic':
                        return (
                            <div className="space-y-6 animate-in fade-in duration-500">
                                <SectionHeader title="Rendimiento Orgánico" subtitle="Análisis de Search Console, Analytics y Oportunidades SEO." />
                                <div className="grid md:grid-cols-2 gap-6 mb-8">
                                    <div className="bg-dark-card border border-dark-border p-6 rounded-xl">
                                        <h3 className="text-lg font-bold text-white mb-4">Adquisición de Tráfico (GA4)</h3>
                                        <div className="space-y-4">
                                            <div>
                                                <div className="flex justify-between text-sm text-slate-300 mb-1">
                                                    <span>Organic Video (Meta/TikTok)</span>
                                                    <span className="font-bold">32.6%</span>
                                                </div>
                                                <div className="h-2 bg-slate-800 rounded-full overflow-hidden">
                                                    <div className="h-full bg-purple-500" style={{width: '32.6%'}}></div>
                                                </div>
                                            </div>
                                            <div>
                                                <div className="flex justify-between text-sm text-slate-300 mb-1">
                                                    <span>Cross-network (PMax/Ads)</span>
                                                    <span className="font-bold">14.5%</span>
                                                </div>
                                                <div className="h-2 bg-slate-800 rounded-full overflow-hidden">
                                                    <div className="h-full bg-blue-500" style={{width: '14.5%'}}></div>
                                                </div>
                                            </div>
                                            <div>
                                                <div className="flex justify-between text-sm text-slate-300 mb-1">
                                                    <span>Paid Search (CPC)</span>
                                                    <span className="font-bold">13.4%</span>
                                                </div>
                                                <div className="h-2 bg-slate-800 rounded-full overflow-hidden">
                                                    <div className="h-full bg-orange-500" style={{width: '13.4%'}}></div>
                                                </div>
                                            </div>
                                            <div>
                                                <div className="flex justify-between text-sm text-slate-300 mb-1">
                                                    <span>Organic Search (SEO)</span>
                                                    <span className="font-bold text-red-400">12.7% (Bajo)</span>
                                                </div>
                                                <div className="h-2 bg-slate-800 rounded-full overflow-hidden">
                                                    <div className="h-full bg-green-500" style={{width: '12.7%'}}></div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div className="bg-dark-card border border-dark-border p-6 rounded-xl">
                                        <h3 className="text-lg font-bold text-white mb-4">Páginas con Mayor Fuga</h3>
                                        <ul className="space-y-3">
                                            <li className="flex justify-between items-center p-3 bg-slate-900 rounded border border-red-900/30">
                                                <span className="text-sm text-slate-300">/ (Home)</span>
                                                <span className="text-red-400 font-bold">59.7% Rebote</span>
                                            </li>
                                            <li className="flex justify-between items-center p-3 bg-slate-900 rounded border border-red-900/30">
                                                <span className="text-sm text-slate-300">/pide-cita</span>
                                                <span className="text-red-400 font-bold">42.2% Abandono</span>
                                            </li>
                                        </ul>
                                    </div>
                                </div>

                                <div className="overflow-x-auto rounded-xl border border-dark-border">
                                    <table className="w-full text-left bg-dark-card">
                                        <thead className="bg-slate-900 text-slate-400 uppercase text-xs font-bold">
                                            <tr>
                                                <th className="p-4">Fuente</th>
                                                <th className="p-4">Hallazgo / Keyword</th>
                                                <th className="p-4">Impacto</th>
                                                <th className="p-4">Severidad</th>
                                                <th className="p-4">Acción Requerida</th>
                                            </tr>
                                        </thead>
                                        <tbody className="divide-y divide-dark-border">
                                            {AUDIT_DATA.organic.map((item, i) => (
                                                <TableRow key={i} {...item} />
                                            ))}
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                        );

                    case 'expat':
                        return (
                            <div className="space-y-6 animate-in fade-in duration-500">
                                <SectionHeader title="Estrategia Expat (Barcelona)" subtitle="Plan de ataque para el mercado internacional residente (Alto poder adquisitivo)." />
                                
                                <div className="grid md:grid-cols-4 gap-4 mb-6">
                                    {AUDIT_DATA.expat.map((item, i) => (
                                        <div key={i} className="bg-dark-card p-6 rounded-xl border border-dark-border hover:bg-slate-800 transition-colors group">
                                            <div className="flex justify-between items-start mb-4">
                                                <span className="text-xs font-bold bg-slate-700 text-white px-2 py-1 rounded">{item.lang}</span>
                                                <Icon name="Globe" className="text-slate-500 group-hover:text-brand" />
                                            </div>
                                            <h4 className="text-white font-bold mb-2 text-lg leading-tight">"{item.keyword}"</h4>
                                            <div className="flex justify-between text-xs text-slate-400 mb-4">
                                                <span>Vol: {item.vol}</span>
                                                <span>Comp: {item.comp}</span>
                                            </div>
                                            <p className="text-sm text-brand border-t border-slate-700 pt-3">{item.action}</p>
                                        </div>
                                    ))}
                                </div>
                            </div>
                        );

                    case 'gmb':
                        return (
                            <div className="space-y-6 animate-in fade-in duration-500">
                                <SectionHeader title="Auditoría SEO Local (GMB)" subtitle="Análisis de la ficha de Google My Business y Reputación." />
                                <div className="overflow-x-auto rounded-xl border border-dark-border">
                                    <table className="w-full text-left bg-dark-card">
                                        <thead className="bg-slate-900 text-slate-400 uppercase text-xs font-bold">
                                            <tr>
                                                <th className="p-4">Fuente</th>
                                                <th className="p-4">Hallazgo</th>
                                                <th className="p-4">Impacto</th>
                                                <th className="p-4">Severidad</th>
                                                <th className="p-4">Recomendación</th>
                                            </tr>
                                        </thead>
                                        <tbody className="divide-y divide-dark-border">
                                            {AUDIT_DATA.gmb.map((item, i) => (
                                                <TableRow key={i} {...item} />
                                            ))}
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                        );

                    case 'roadmap':
                        return (
                            <div className="space-y-6 animate-in fade-in duration-500">
                                <SectionHeader title="Hoja de Ruta (Roadmap)" subtitle="Plan de Acción Priorizado para los próximos 90 días." />
                                <div className="overflow-x-auto rounded-xl border border-dark-border">
                                    <table className="w-full text-left bg-dark-card">
                                        <thead className="bg-slate-900 text-slate-400 uppercase text-xs font-bold">
                                            <tr>
                                                <th className="p-4">Tarea / Acción</th>
                                                <th className="p-4">Prioridad</th>
                                                <th className="p-4">Impacto</th>
                                                <th className="p-4">Esfuerzo</th>
                                                <th className="p-4">Responsable</th>
                                            </tr>
                                        </thead>
                                        <tbody className="divide-y divide-dark-border">
                                            {AUDIT_DATA.roadmap.map((task, i) => (
                                                <tr key={i} className="border-b border-dark-border hover:bg-slate-800/50">
                                                    <td className="p-4 text-white font-medium">{task.task}</td>
                                                    <td className="p-4">
                                                        <span className={`px-2 py-1 rounded text-xs font-bold ${task.priority.includes('Inmediata') || task.priority.includes('Alta') ? 'bg-brand text-white' : 'bg-slate-700 text-slate-300'}`}>
                                                            {task.priority}
                                                        </span>
                                                    </td>
                                                    <td className="p-4 text-sm text-slate-400">{task.impact}</td>
                                                    <td className="p-4 text-sm text-slate-400">{task.effort}</td>
                                                    <td className="p-4 text-sm text-slate-500 font-mono">{task.owner}</td>
                                                </tr>
                                            ))}
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                        );

                    default:
                        return null;
                }
            };

            return (
                <div className="flex h-screen bg-dark-bg overflow-hidden font-sans">
                    {/* SIDEBAR */}
                    <div className="w-64 bg-slate-900 border-r border-dark-border flex flex-col hidden md:flex">
                        <div className="p-6 border-b border-dark-border">
                            <div className="flex items-center space-x-3">
                                <div className="w-10 h-10 bg-brand rounded-lg flex items-center justify-center shadow-lg shadow-brand/20">
                                    <span className="text-white font-bold text-xl">V</span>
                                </div>
                                <div>
                                    <h1 className="text-white font-bold text-lg leading-none">VallBlanc</h1>
                                    <span className="text-xs text-brand uppercase tracking-wider">SEO Audit Pro</span>
                                </div>
                            </div>
                        </div>
                        
                        <nav className="flex-1 p-4 space-y-2 overflow-y-auto">
                            {[
                                { id: 'executive', label: 'Resumen Ejecutivo', icon: 'Activity' },
                                { id: 'competitors', label: 'Competencia', icon: 'Target' },
                                { id: 'technical', label: 'Auditoría Técnica', icon: 'Zap' },
                                { id: 'gmb', label: 'SEO Local (GMB)', icon: 'MapPin' },
                                { id: 'organic', label: 'Orgánico (GA4/GSC)', icon: 'BarChart2' },
                                { id: 'expat', label: 'Estrategia Expat', icon: 'Globe' },
                                { id: 'roadmap', label: 'Hoja de Ruta', icon: 'List' },
                            ].map((item) => (
                                <button
                                    key={item.id}
                                    onClick={() => setActiveTab(item.id)}
                                    className={`w-full flex items-center space-x-3 px-4 py-3 rounded-lg text-sm font-medium transition-all ${activeTab === item.id ? 'bg-brand text-white shadow-lg shadow-brand/20' : 'text-slate-400 hover:bg-slate-800 hover:text-white'}`}
                                >
                                    <Icon name={item.icon} size={18} />
                                    <span>{item.label}</span>
                                </button>
                            ))}
                        </nav>

                        <div className="p-4 border-t border-dark-border">
                            <div className="bg-slate-800/50 p-3 rounded-lg flex items-center space-x-3">
                                <div className="w-8 h-8 rounded-full bg-slate-700 flex items-center justify-center text-xs text-white">FM</div>
                                <div>
                                    <p className="text-xs text-slate-300 font-medium">Auditor:</p>
                                    <p className="text-xs text-brand font-bold">Ferran Martínez</p>
                                </div>
                            </div>
                        </div>
                    </div>

                    {/* MAIN CONTENT */}
                    <div className="flex-1 flex flex-col overflow-hidden relative">
                        {/* Mobile Header */}
                        <div className="md:hidden bg-slate-900 p-4 border-b border-dark-border flex items-center justify-between">
                            <span className="font-bold text-white">VallBlanc Audit</span>
                            <div className="text-xs text-brand">Ferran Martínez</div>
                        </div>

                        <div className="flex-1 overflow-y-auto p-4 md:p-8 relative">
                            {/* Background decoration */}
                            <div className="absolute top-0 right-0 w-[500px] h-[500px] bg-brand/5 rounded-full blur-[100px] pointer-events-none z-0"></div>
                            
                            <div className="relative z-10 max-w-7xl mx-auto">
                                {renderContent()}
                            </div>

                            {/* FOOTER */}
                            <footer className="mt-12 pt-8 border-t border-dark-border text-center pb-8">
                                <p className="text-slate-500 text-sm">
                                    Auditoría realizada para <span className="text-white font-bold">VallBlanc Espai Dental</span> • {new Date().getFullYear()}
                                </p>
                                <p className="text-brand text-sm font-medium mt-2 flex items-center justify-center">
                                    <Icon name="PenTool" size={14} className="mr-2" />
                                    Ferran Martínez
                                </p>
                            </footer>
                        </div>
                    </div>
                </div>
            );
        };

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<Dashboard />);
    </script>
</body>
</html>
