<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Auditoría Estratégica VallBlanc | Ferran Martínez</title>
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- React & ReactDOM -->
    <script crossorigin src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    
    <!-- Babel Standalone -->
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>

    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Playfair+Display:ital,wght@0,600;0,700;1,600&display=swap" rel="stylesheet">

    <script>
        tailwind.config = {
            darkMode: 'class',
            theme: {
                extend: {
                    colors: {
                        brand: {
                            DEFAULT: '#D07D7D', 
                            50: '#fbf5f5',
                            100: '#f7ecec',
                            500: '#D07D7D',
                            600: '#b56b6b',
                            900: '#4a1a1a',
                        },
                        dark: {
                            bg: '#0B0F19', 
                            panel: '#111827', 
                            border: '#1F2937'
                        }
                    },
                    fontFamily: {
                        sans: ['Inter', 'sans-serif'],
                        serif: ['Playfair Display', 'serif'],
                    }
                }
            }
        }
    </script>

    <style>
        body { background-color: #0B0F19; color: #cbd5e1; }
        ::-webkit-scrollbar { width: 8px; }
        ::-webkit-scrollbar-track { background: #0B0F19; }
        ::-webkit-scrollbar-thumb { background: #374151; border-radius: 4px; }
        ::-webkit-scrollbar-thumb:hover { background: #D07D7D; }
        .prose-custom p { margin-bottom: 1.5em; line-height: 1.8; color: #cbd5e1; text-align: justify; }
        .prose-custom strong { color: #f1f5f9; font-weight: 600; }
        .prose-custom ul { list-style-type: disc; padding-left: 1.5em; margin-bottom: 1.5em; }
        .prose-custom li { margin-bottom: 0.5em; }
    </style>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect } = React;

        // --- ICONOS SVG ---
        const Icons = {
            Chart: <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><line x1="18" x2="18" y1="20" y2="10"/><line x1="12" x2="12" y1="20" y2="4"/><line x1="6" x2="6" y1="20" y2="14"/></svg>,
            Target: <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><circle cx="12" cy="12" r="10"/><circle cx="12" cy="12" r="6"/><circle cx="12" cy="12" r="2"/></svg>,
            Zap: <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><polygon points="13 2 3 14 12 14 11 22 21 10 12 10 13 2"/></polygon>,
            MapPin: <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><path d="M20 10c0 6-9 13-9 13s-9-7-9-13a9 9 0 0 1 18 0z"/><circle cx="12" cy="10" r="3"/></svg>,
            Search: <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><circle cx="11" cy="11" r="8"/><line x1="21" x2="16.65" y1="21" y2="16.65"/></svg>,
            Globe: <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><circle cx="12" cy="12" r="10"/><line x1="2" x2="22" y1="12" y2="12"/><path d="M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z"/></svg>,
            List: <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><line x1="8" x2="21" y1="6" y2="6"/><line x1="8" x2="21" y1="12" y2="12"/><line x1="8" x2="21" y1="18" y2="18"/><line x1="3" x2="3.01" y1="6" y2="6"/><line x1="3" x2="3.01" y1="12" y2="12"/><line x1="3" x2="3.01" y1="18" y2="18"/></svg>,
            Menu: <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><line x1="4" x2="20" y1="12" y2="12"/><line x1="4" x2="20" y1="6" y2="6"/><line x1="4" x2="20" y1="18" y2="18"/></svg>,
            X: <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><path d="M18 6 6 18"/><path d="m6 6 12 12"/></svg>,
            Sitemap: <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><rect width="7" height="7" x="3" y="3" rx="1"/><rect width="7" height="7" x="14" y="3" rx="1"/><rect width="7" height="7" x="14" y="14" rx="1"/><line x1="7" x2="7" y1="10" y2="13"/><line x1="7" x2="17" y1="13" y2="13"/><line x1="17" x2="17" y1="10" y2="14"/></svg>
        };

        // --- CONTENIDO COMPLETO (INTEGRAL) ---
        const REPORT = {
            summary: {
                title: "1. Resumen Ejecutivo (Sin Pelos en la Lengua)",
                content: [
                    "El análisis forense de la presencia digital de vallblanc.com revela una patología estructural severa común en clínicas locales con aspiraciones de crecimiento pero ejecución técnica deficiente: una hiperdependencia del tráfico de marca y de pago combinada con una infraestructura técnica que sabotea activamente la adquisición de nuevos pacientes orgánicos 'fríos'. La clínica opera digitalmente muy por debajo de su capacidad clínica real.",
                    "Hemorragia de Tráfico Crítica: De aproximadamente 17,000 usuarios activos registrados, la tasa de rebote en la home alcanza un crítico 59.7%. Esto indica que 6 de cada 10 visitantes, muchos pagados con Google CPC, son repelidos por la experiencia antes de interactuar.",
                    "Conversión Anémica: La tasa de conversión global es del 0.57%. El sitio requiere casi 200 visitas para generar una sola conversión digital traqueada. Considerando el volumen de tráfico pago, esto infla desproporcionadamente el CAC (Costo de Adquisición de Cliente).",
                    "Invisibilidad Expat: La gestión de idiomas mediante parámetros (?lang=) en lugar de subdirectorios ha provocado que Google indexe 'clones' de la página, generando canibalización masiva en lugar de relevancia geolocalizada."
                ],
                kpis: [
                    { label: "Tasa Rebote Home", value: "59.7%", status: "critical", sub: "Pérdida de inversión publicitaria" },
                    { label: "Tasa Conversión", value: "0.57%", status: "critical", sub: "Estándar sector: 3-5%" },
                    { label: "Tráfico Orgánico", value: "12.7%", status: "warning", sub: "Dependencia de Meta/Ads" },
                    { label: "Velocidad Servidor", value: "1.7s", status: "warning", sub: "TTFB muy lento" }
                ],
                quickWins: [
                    { title: "Desbloqueo de Rastreo", desc: "Habilitar acceso inmediato al sitemap_index.xml (actualmente bloqueado) para indexación profunda." },
                    { title: "Compresión Scripts", desc: "Implementar carga diferida (defer/async) para GTM y Litespeed (TTFB 1.7s)." },
                    { title: "Ajuste Títulos SEO", desc: "Reescribir Meta Titles de páginas con muchas impresiones y CTR < 2%." }
                ]
            },
            competitors: {
                title: "2. Auditoría de Competencia (Benchmarking)",
                intro: "Análisis comparativo directo: Turó Park (Líder Expat), Clínica Blasi (Prestigio) y British Dental (Nicho).",
                data: [
                    { 
                        dim: "Arquitectura Idiomas", 
                        us: "Parámetros (?lang=) / Inconsistente / Sin Hreflang", 
                        them: "Turó Park: Subdirectorios robustos / Perfiles con banderas. British: Sitio nativo en Inglés." 
                    },
                    { 
                        dim: "Enfoque SEO Local", 
                        us: "'Vallcarca', 'Gràcia' (Hiperlocal)", 
                        them: "'Barcelona', 'English speaking', 'Sarrià', 'Heart of the city'." 
                    },
                    { 
                        dim: "Contenido", 
                        us: "Blog genérico, traducciones automáticas.", 
                        them: "Guías de seguros, 'Medical Tourism', Casos clínicos Antes/Después (USA trained)." 
                    },
                    { 
                        dim: "Velocidad Mobile", 
                        us: "LCP 2.2s / Script Bloat masivo (80% peso JS).", 
                        them: "Optimizado para móviles. 'Fast Track' buttons." 
                    },
                    { 
                        dim: "Captación", 
                        us: "Formulario genérico 'Pide Cita' (Alto abandono).", 
                        them: "WhatsApp directo, Booking Online, Portal Paciente, Widget 'Need Help?'." 
                    }
                ],
                gaps: [
                    "Falta de 'Aterrizaje Suave' para Expats: No hay info sobre seguros internacionales o logística.",
                    "Falta de Transparencia en Precios: Competencia publica 'Price Lists'. VallBlanc no, generando fricción.",
                    "Falta de Validación (E-E-A-T): Necesitamos 'traducir' la experiencia de la Dra. Valverde para el expat (e.g., 'English Speaking Senior Orthodontist')."
                ]
            },
            technical: {
                title: "3. Auditoría Técnica (PageSpeed)",
                intro: "La salud técnica presenta una contradicción peligrosa: métricas de campo aceptables que enmascaran una arquitectura ineficiente.",
                details: [
                    {
                        metric: "TTFB (Time to First Byte)",
                        val: "1.7s",
                        status: "Mal",
                        finding: "El servidor tarda casi 2s en responder. Esto destruye el SEO internacional y frustra al usuario móvil.",
                        rec: "Activar caché a nivel servidor (Redis/Varnish) y CDN (Cloudflare)."
                    },
                    {
                        metric: "Script Bloat (JS)",
                        val: "80% Peso",
                        status: "Crítico",
                        finding: "Litespeed JS (180kB) y GTM (170kB) saturan el hilo principal. Se cargan antes que el contenido.",
                        rec: "Auditoría GTM urgente. Implementar 'Delay JS Execution'."
                    },
                    {
                        metric: "LCP Móvil",
                        val: "2.2s",
                        status: "Regular",
                        finding: "Al límite. Afectado por imágenes de alta resolución no optimizadas en el hero.",
                        rec: "Implementar preload para imagen principal y formatos WebP."
                    }
                ]
            },
            gmb: {
                title: "4. Auditoría GMB (SEO Local)",
                intro: "El corazón del SEO Local. Análisis de la ficha de Google.",
                findings: [
                    { title: "Inconsistencia NAP", desc: "Aparece como 'VallBlanc', 'VallBlanc Espai Dental', etc. Diluye autoridad. Acción: Estandarizar a 'VallBlanc Espai Dental'." },
                    { title: "Categorías Faltantes", desc: "Faltan categorías clave: 'Emergency dental service', 'Pediatric dentist', 'Dental implants periodontist'." },
                    { title: "Reseñas sin Keywords", desc: "Las reseñas carecen de palabras clave. Acción: Responder introduciendo keywords ('Gracias por confiar en VallBlanc para tu implante')." },
                    { title: "Falta de Fotos", desc: "Subir fotos reales del equipo y tecnología (CBCT) para vender confianza." }
                ]
            },
            organic: {
                title: "5. Rendimiento Orgánico (Datos GSC/GA4)",
                intro: "La verdad de los datos: Desconexión entre tráfico captado y negocio.",
                opportunities: [
                    { key: "'Periodoncia Barcelona'", data: "2,396 Impresiones / 0 Clics", diag: "Oportunidad masiva perdida. Falta Power Page específica." },
                    { key: "'Precio Implante Dental'", data: "1,835 Impresiones / 0 Clics", diag: "Intención transaccional pura. Falta página de precios." },
                    { key: "'Implant Dentaire Barcelone'", data: "1,967 Impresiones / 0 Clics", diag: "Demanda francesa activa. Página en francés invisible." },
                    { key: "Canibalización", data: "Regeneración Ósea", diag: "URLs compiten (id=11 vs id=43). Google alterna cuál muestra. Solución: Power Page + 301." },
                    { key: "Fuga Conversión", data: "42.2% Rebote en Cita", diag: "Formulario pide demasiados datos. Solución: Simplificar a Nombre+Teléfono." }
                ]
            },
            expat: {
                title: "6. Estrategia 'Expat Barcelona'",
                intro: "El Océano Azul. Crecimiento exponencial vía nichos internacionales.",
                strategy: [
                    { title: "Auditoría Idiomas", desc: "La implementación actual con parámetros es deficiente. Francés y Ruso (Nichos de oro) desperdiciados." },
                    { title: "Landing 'Emergency Dentist'", desc: "Keyword: 'emergency dentist barcelona'. El expat con dolor no compara precios, busca inmediatez. Crear landing agresiva." },
                    { title: "Comparativa Precios", desc: "Keyword: 'dental implants barcelona cost'. Crear página comparativa vs precios UK/USA." },
                    { title: "Riesgos Traducción", desc: "Evitar traductores automáticos para términos médicos. Revisión humana obligatoria." }
                ]
            },
            roadmap: {
                title: "7. Hoja de Ruta (Roadmap)",
                intro: "Plan de Acción Priorizado (Impacto x Esfuerzo)",
                tasks: [
                    { task: "Implementar Hreflang y reestructurar URLs", prio: "Crítica", impact: "Alto (SEO Int)", effort: "Alto", owner: "Dev" },
                    { task: "Optimizar carga JS (Defer/Async) y LCP", prio: "Crítica", impact: "Alto (UX)", effort: "Medio", owner: "Dev" },
                    { task: "Auditoría y Fusión GTM (Limpieza)", prio: "Alta", impact: "Medio", effort: "Bajo", owner: "Analista" },
                    { task: "Crear Landing 'Emergency Dentist' + GMB", prio: "Alta", impact: "Alto (Leads)", effort: "Medio", owner: "Content/SEO" },
                    { task: "Simplificar Formulario 'Pide Cita'", prio: "Alta", impact: "Alto (Conv)", effort: "Bajo", owner: "Dev/UX" },
                    { task: "Power Page 'Periodoncia' e 'Implantes'", prio: "Media", impact: "Medio", effort: "Alto", owner: "Content" },
                    { task: "Campaña Reseñas (Keywords)", prio: "Media", impact: "Medio", effort: "Bajo", owner: "Recepción" }
                ]
            },
            extra: {
                title: "Extra: Arquitectura & Mapa Oportunidades",
                map: {
                    local: "Keywords: 'Dentista Vallcarca', 'Implantes Gràcia', 'Urgencias dentales Barcelona'.",
                    expat: "Keywords: 'English speaking dentist Barcelona', 'Emergency dentist Barcelona', 'Dental implants cost'."
                },
                silos: [
                    "/es/ (Home Local)",
                    "/es/tratamientos/implantes-dentales/",
                    "/es/urgencias-dentales/",
                    "/es/barrio/vallcarca/",
                    "/en/ (Home Expat)",
                    "/en/emergency-dentist/",
                    "/en/international-patients/"
                ]
            }
        };

        const App = () => {
            const [activeTab, setActiveTab] = useState('summary');
            const [isMenuOpen, setIsMenuOpen] = useState(false);

            const tabs = [
                { id: 'summary', label: '1. Resumen Ejecutivo', icon: Icons.Chart },
                { id: 'competitors', label: '2. Competencia', icon: Icons.Target },
                { id: 'technical', label: '3. Técnica', icon: Icons.Zap },
                { id: 'gmb', label: '4. GMB Local', icon: Icons.MapPin },
                { id: 'organic', label: '5. Orgánico', icon: Icons.Search },
                { id: 'expat', label: '6. Estrategia Expat', icon: Icons.Globe },
                { id: 'roadmap', label: '7. Hoja de Ruta', icon: Icons.List },
                { id: 'extra', label: 'Extra: Arquitectura', icon: Icons.Sitemap },
            ];

            const renderContent = () => {
                switch(activeTab) {
                    case 'summary':
                        return (
                            <div className="space-y-8 animate-in fade-in duration-500">
                                <div className="border-l-4 border-brand pl-4">
                                    <h2 className="text-3xl font-serif font-bold text-white">{REPORT.summary.title}</h2>
                                    <p className="text-brand">Diagnóstico Forense</p>
                                </div>
                                <div className="prose-custom">
                                    {REPORT.summary.content.map((p, i) => <p key={i}>{p}</p>)}
                                </div>
                                <div className="grid md:grid-cols-4 gap-4">
                                    {REPORT.summary.kpis.map((kpi, i) => (
                                        <div key={i} className="bg-dark-panel p-4 rounded-xl border border-dark-border">
                                            <div className="text-xs text-slate-500 uppercase">{kpi.label}</div>
                                            <div className="text-2xl font-bold text-white my-1">{kpi.value}</div>
                                            <div className={`text-xs px-2 py-1 rounded inline-block font-bold ${kpi.status === 'critical' ? 'bg-red-900/30 text-red-400' : 'bg-yellow-900/30 text-yellow-400'}`}>{kpi.sub}</div>
                                        </div>
                                    ))}
                                </div>
                                <div className="bg-dark-panel p-6 rounded-xl border border-dark-border">
                                    <h3 className="text-xl font-bold text-white mb-4">Quick Wins (≤ 14 días)</h3>
                                    <div className="grid md:grid-cols-3 gap-6">
                                        {REPORT.summary.quickWins.map((win, i) => (
                                            <div key={i} className="bg-slate-900/50 p-4 rounded border border-dark-border">
                                                <div className="text-brand font-bold mb-2">{win.title}</div>
                                                <div className="text-sm text-slate-400">{win.desc}</div>
                                            </div>
                                        ))}
                                    </div>
                                </div>
                            </div>
                        );
                    case 'competitors':
                        return (
                            <div className="space-y-8 animate-in fade-in duration-500">
                                <div className="border-l-4 border-brand pl-4">
                                    <h2 className="text-3xl font-serif font-bold text-white">{REPORT.competitors.title}</h2>
                                    <p className="text-brand">{REPORT.competitors.intro}</p>
                                </div>
                                <div className="space-y-6">
                                    {REPORT.competitors.data.map((item, i) => (
                                        <div key={i} className="bg-dark-panel p-6 rounded-xl border border-dark-border">
                                            <h3 className="text-lg font-bold text-brand mb-4 uppercase tracking-wider">{item.dim}</h3>
                                            <div className="grid md:grid-cols-2 gap-8">
                                                <div className="border-l-2 border-red-500/30 pl-4">
                                                    <div className="text-xs text-red-400 font-bold mb-1">NOSOTROS (VALLBLANC)</div>
                                                    <p className="text-slate-300 text-sm">{item.us}</p>
                                                </div>
                                                <div className="border-l-2 border-green-500/30 pl-4">
                                                    <div className="text-xs text-green-400 font-bold mb-1">COMPETENCIA (TOP 3)</div>
                                                    <p className="text-slate-300 text-sm">{item.them}</p>
                                                </div>
                                            </div>
                                        </div>
                                    ))}
                                </div>
                                <div className="bg-slate-900/50 p-6 rounded-xl border border-dark-border">
                                    <h3 className="text-xl font-bold text-white mb-4">Gaps Detectados</h3>
                                    <ul className="list-disc pl-5 space-y-2 text-slate-400">
                                        {REPORT.competitors.gaps.map((gap, i) => <li key={i}>{gap}</li>)}
                                    </ul>
                                </div>
                            </div>
                        );
                    case 'technical':
                        return (
                            <div className="space-y-8 animate-in fade-in duration-500">
                                <div className="border-l-4 border-brand pl-4">
                                    <h2 className="text-3xl font-serif font-bold text-white">{REPORT.technical.title}</h2>
                                    <p className="text-brand">{REPORT.technical.intro}</p>
                                </div>
                                <div className="grid gap-6">
                                    {REPORT.technical.details.map((det, i) => (
                                        <div key={i} className="bg-dark-panel p-6 rounded-xl border border-dark-border">
                                            <div className="flex justify-between items-start mb-2">
                                                <h3 className="text-xl font-bold text-white">{det.metric}</h3>
                                                <span className="text-red-400 font-bold font-mono">{det.val}</span>
                                            </div>
                                            <p className="text-slate-300 mb-4">{det.finding}</p>
                                            <div className="bg-slate-900/50 p-3 rounded text-sm border border-brand/20">
                                                <span className="text-brand font-bold">Solución:</span> {det.rec}
                                            </div>
                                        </div>
                                    ))}
                                </div>
                            </div>
                        );
                    case 'gmb':
                        return (
                            <div className="space-y-8 animate-in fade-in duration-500">
                                <div className="border-l-4 border-brand pl-4">
                                    <h2 className="text-3xl font-serif font-bold text-white">{REPORT.gmb.title}</h2>
                                    <p className="text-brand">{REPORT.gmb.intro}</p>
                                </div>
                                <div className="grid md:grid-cols-2 gap-6">
                                    {REPORT.gmb.findings.map((f, i) => (
                                        <div key={i} className="bg-dark-panel p-6 rounded-xl border border-dark-border">
                                            <h3 className="text-lg font-bold text-white mb-2">{f.title}</h3>
                                            <p className="text-slate-400 text-sm">{f.desc}</p>
                                        </div>
                                    ))}
                                </div>
                            </div>
                        );
                    case 'organic':
                        return (
                            <div className="space-y-8 animate-in fade-in duration-500">
                                <div className="border-l-4 border-brand pl-4">
                                    <h2 className="text-3xl font-serif font-bold text-white">{REPORT.organic.title}</h2>
                                    <p className="text-brand">{REPORT.organic.intro}</p>
                                </div>
                                <div className="overflow-x-auto">
                                    <table className="w-full text-left text-sm text-slate-300">
                                        <thead className="bg-slate-900 text-slate-500 uppercase font-bold">
                                            <tr>
                                                <th className="p-4">Oportunidad / Keyword</th>
                                                <th className="p-4">Dato</th>
                                                <th className="p-4">Diagnóstico</th>
                                            </tr>
                                        </thead>
                                        <tbody className="divide-y divide-dark-border bg-dark-panel">
                                            {REPORT.organic.opportunities.map((op, i) => (
                                                <tr key={i}>
                                                    <td className="p-4 font-bold text-white">{op.key}</td>
                                                    <td className="p-4 text-red-400 font-mono">{op.data}</td>
                                                    <td className="p-4">{op.diag}</td>
                                                </tr>
                                            ))}
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                        );
                    case 'expat':
                        return (
                            <div className="space-y-8 animate-in fade-in duration-500">
                                <div className="border-l-4 border-brand pl-4">
                                    <h2 className="text-3xl font-serif font-bold text-white">{REPORT.expat.title}</h2>
                                    <p className="text-brand">{REPORT.expat.intro}</p>
                                </div>
                                <div className="space-y-4">
                                    {REPORT.expat.strategy.map((s, i) => (
                                        <div key={i} className="bg-dark-panel p-6 rounded-xl border border-dark-border flex">
                                            <div className="mr-4 text-brand font-bold text-xl">0{i+1}</div>
                                            <div>
                                                <h3 className="text-lg font-bold text-white mb-1">{s.title}</h3>
                                                <p className="text-slate-400 text-sm">{s.desc}</p>
                                            </div>
                                        </div>
                                    ))}
                                </div>
                            </div>
                        );
                    case 'roadmap':
                        return (
                            <div className="space-y-8 animate-in fade-in duration-500">
                                <div className="border-l-4 border-brand pl-4">
                                    <h2 className="text-3xl font-serif font-bold text-white">{REPORT.roadmap.title}</h2>
                                    <p className="text-brand">{REPORT.roadmap.intro}</p>
                                </div>
                                <div className="overflow-x-auto">
                                    <table className="w-full text-left text-sm text-slate-300">
                                        <thead className="bg-slate-900 text-slate-500 uppercase font-bold">
                                            <tr>
                                                <th className="p-4">Tarea</th>
                                                <th className="p-4">Prioridad</th>
                                                <th className="p-4">Impacto</th>
                                                <th className="p-4">Esfuerzo</th>
                                                <th className="p-4">Responsable</th>
                                            </tr>
                                        </thead>
                                        <tbody className="divide-y divide-dark-border bg-dark-panel">
                                            {REPORT.roadmap.tasks.map((t, i) => (
                                                <tr key={i} className="hover:bg-slate-800/50">
                                                    <td className="p-4 font-bold text-white">{t.task}</td>
                                                    <td className="p-4"><span className={`px-2 py-1 rounded text-xs font-bold ${t.prio.includes('Crítica') || t.prio.includes('Alta') ? 'bg-brand text-white' : 'bg-slate-700'}`}>{t.prio}</span></td>
                                                    <td className="p-4">{t.impact}</td>
                                                    <td className="p-4">{t.effort}</td>
                                                    <td className="p-4">{t.owner}</td>
                                                </tr>
                                            ))}
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                        );
                    case 'extra':
                        return (
                            <div className="space-y-8 animate-in fade-in duration-500">
                                <div className="border-l-4 border-brand pl-4">
                                    <h2 className="text-3xl font-serif font-bold text-white">{REPORT.extra.title}</h2>
                                </div>
                                <div className="grid md:grid-cols-2 gap-8">
                                    <div className="bg-dark-panel p-6 rounded-xl border border-dark-border">
                                        <h3 className="text-xl font-bold text-white mb-4">Mapa Oportunidades</h3>
                                        <div className="mb-4">
                                            <strong className="text-brand block mb-1">Local Nativo:</strong>
                                            <p className="text-slate-400 text-sm">{REPORT.extra.map.local}</p>
                                        </div>
                                        <div>
                                            <strong className="text-brand block mb-1">Local Expat:</strong>
                                            <p className="text-slate-400 text-sm">{REPORT.extra.map.expat}</p>
                                        </div>
                                    </div>
                                    <div className="bg-dark-panel p-6 rounded-xl border border-dark-border">
                                        <h3 className="text-xl font-bold text-white mb-4">Arquitectura Silos</h3>
                                        <ul className="space-y-2 font-mono text-sm text-slate-300">
                                            {REPORT.extra.silos.map((s, i) => <li key={i}>{s}</li>)}
                                        </ul>
                                    </div>
                                </div>
                            </div>
                        );
                    default: return null;
                }
            };

            return (
                <div className="flex h-screen bg-dark-bg text-slate-200 overflow-hidden font-sans selection:bg-brand selection:text-white">
                    {/* Sidebar Desktop */}
                    <aside className="hidden md:flex flex-col w-72 bg-dark-panel border-r border-dark-border">
                        <div className="p-6 border-b border-dark-border">
                            <h1 className="text-2xl font-serif font-bold text-white tracking-tight">VallBlanc<span className="text-brand">.Audit</span></h1>
                            <p className="text-[10px] text-slate-500 mt-1 uppercase tracking-wider">Informe Integral 2026</p>
                        </div>
                        <nav className="flex-1 overflow-y-auto p-4 space-y-1">
                            {tabs.map(tab => (
                                <button
                                    key={tab.id}
                                    onClick={() => setActiveTab(tab.id)}
                                    className={`w-full flex items-center space-x-3 px-4 py-3 rounded-lg text-sm font-medium transition-all duration-200 ${
                                        activeTab === tab.id 
                                        ? 'bg-brand text-white shadow-lg shadow-brand/20' 
                                        : 'text-slate-400 hover:bg-slate-800 hover:text-white'
                                    }`}
                                >
                                    {tab.icon}
                                    <span>{tab.label}</span>
                                </button>
                            ))}
                        </nav>
                        <div className="p-4 border-t border-dark-border">
                            <div className="flex items-center space-x-3 bg-slate-900/50 p-3 rounded-lg">
                                <div className="w-8 h-8 rounded-full bg-brand flex items-center justify-center text-white font-bold text-xs">FM</div>
                                <div>
                                    <p className="text-[10px] text-slate-400 uppercase">Auditor SEO</p>
                                    <p className="text-sm font-bold text-white">Ferran Martínez</p>
                                </div>
                            </div>
                        </div>
                    </aside>

                    {/* Main Content */}
                    <main className="flex-1 flex flex-col relative overflow-hidden">
                        {/* Mobile Header */}
                        <header className="md:hidden bg-dark-panel p-4 flex justify-between items-center border-b border-dark-border z-50">
                            <span className="font-bold text-white font-serif">VallBlanc Audit</span>
                            <button onClick={() => setIsMenuOpen(!isMenuOpen)} className="text-slate-300">
                                {isMenuOpen ? Icons.X : Icons.Menu}
                            </button>
                        </header>

                        {/* Mobile Menu */}
                        {isMenuOpen && (
                            <div className="absolute inset-0 bg-dark-bg z-40 p-4 animate-in slide-in-from-top-5">
                                <nav className="space-y-2">
                                    {tabs.map(tab => (
                                        <button
                                            key={tab.id}
                                            onClick={() => { setActiveTab(tab.id); setIsMenuOpen(false); }}
                                            className="w-full text-left p-4 rounded-lg bg-dark-panel border border-dark-border text-slate-300"
                                        >
                                            {tab.label}
                                        </button>
                                    ))}
                                </nav>
                            </div>
                        )}

                        {/* Content Scroll */}
                        <div className="flex-1 overflow-y-auto p-4 md:p-10 relative">
                             {/* Background Glow */}
                             <div className="fixed top-0 right-0 w-[500px] h-[500px] bg-brand/5 rounded-full blur-[100px] pointer-events-none z-0"></div>
                             
                            <div className="max-w-5xl mx-auto relative z-10 pb-20">
                                {renderContent()}
                            </div>

                            <footer className="mt-12 pt-8 border-t border-dark-border text-center text-slate-500 text-xs pb-8 relative z-10">
                                <p>© 2026 Auditoría Estratégica VallBlanc. Documento Confidencial.</p>
                                <p className="mt-2 text-brand font-bold">Ferran Martínez</p>
                            </footer>
                        </div>
                    </main>
                </div>
            );
        };

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<App />);
    </script>
</body>
</html>
